    <header>
        <h1 class="text-center">Getting started with Flocker</h1>    
    </header>
   	<div class="flocker-logo pull-right hidden-xs hidden-sm"></div>

    <div class="jumbotron jumbo-flocker">
      <div class="container">
    	<div class="row">
		<div class="col-md-9">
	       	<p>Flocker lets you run microservices apps with database containers and move them around between servers. It comes in two pieces and youâ€™ll need both.</p>
		</div>
    	</div>
      </div>
    </div>

    <div class="container">
      <div class="row">
        <div class="col-md-12">
            <h2 class="heading bottom-spaced text-center">Step 1: Installing Flocker CLI & Node</h2>
        </div>
        <div class="col-md-6 bordered bordered-right bordered-bottom bordered-gray">
            <p class="hidden-sm hidden-md hidden-lg center-block flocker-orange flocker-label">Local</p>
            <img class="center-block img-responsive" src="../_static/assets/img/macbook.png" alt="Flocker CLI diagram" />
            <h2 class="heading text-center">Flocker CLI</h2>
            <table class="table table-striped">
                <tbody>
                    <tr><td><p>Runs on your laptop</p></td></tr>
                    <tr><td><p>Uses application and deployment configuration files</p></td></tr>
                    <tr><td><p>Deploys containers to a cluster of servers</p></td></tr>
                </tbody>
            </table>
            <div class="arrow-down center-block hidden-xs hidden-sm"></div>
        </div>
        <div class="col-md-6 bordered bordered-bottom bordered-gray">
            <p class="hidden-sm hidden-md hidden-lg center-block flocker-orange flocker-label">Live</p>
            <img class="center-block offset-top img-responsive" src="../_static/assets/img/nodes.png" alt="Flocker Node diagram" />
            <h2 class="heading text-center">Flocker Node</h2>
            <table class="table table-striped">
                <tbody>
                    <tr><td><p>Runs on each server in a cluster</p></td></tr>
                    <tr><td><p>Links, ports and volumes work across hosts</p></td></tr>
                    <tr><td><p>After deployment, containers can move around</p></td></tr>
                </tbody>
            </table>
            <div class="arrow-down center-block"></div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 bordered bordered-right bordered-bottom bordered-gray">
            <h2 class="heading text-center">Installation</h2>
            <p class="hidden-sm hidden-md hidden-lg center-block flocker-orange flocker-label">Local</p>
            <ul id="tabs" class="nav nav-tabs" data-tabs="tabs">
                <li class="active"><a href="#cli-osx" data-toggle="tab">OS X</a></li>
                <li><a href="#cli-linux" data-toggle="tab">Linux</a></li>
            </ul>
            <div id="install-cli" class="tab-content">
                <div class="tab-pane active" id="cli-osx">
                    <p>Install the flocker-cli client on your Mac (requires homebrew):</p>
                    <samp>
$ brew update &amp;&amp; \
    brew tap clusterhq/flocker &amp;&amp; \
    brew install flocker-0.3.2.
                    </samp>
                </div>
                <div class="tab-pane" id="cli-linux">
                    <p>Install the flocker-cli client on your Linux machine:</p>
                    <samp>
$ virtualenv --python=/usr/bin/python2.7 \
    flocker-tutorial
$ flocker-tutorial/bin/pip install --upgrade pip
$ pip install --quiet flocker-cli
                    </samp>
                </div>
            </div>
           <div class="arrow-down center-block invisible"></div>
        </div>
        <div class="col-md-6 bordered bordered-bottom bordered-gray">
            <h2 class="heading text-center">Installation</h2>
            <p class="hidden-sm hidden-md hidden-lg center-block flocker-orange flocker-label">Live</p>
            <ul id="tabs-node" class="nav nav-tabs" data-tabs="tabs">
                <li class="active"><a href="#node-vagrant" data-toggle="tab">Vagrant</a></li>
                <li><a href="#node-aws" data-toggle="tab">AWS</a></li>
            </ul>
            <div id="install-node" class="tab-content">
                <div class="tab-pane active" id="node-vagrant">
                    <p>Simulate a flocker cluster with virtual machines on your laptop (requires Vagrant, VirtualBox):</p>
                    <samp>
$ git clone \
    https://github.com/clusterhq/vagrant-flocker
$ cd vagrant-flocker
$ vagrant up
                    </samp>
                </div>
                <div class="tab-pane" id="node-aws">
                    <p>Stuff here...</p>
                </div>
            </div>
           <div class="arrow-down arrow-offset center-block"></div>
        </div>
      </div>      
      
      <div class="row">
        <div class="col-md-12 text-larger">
            <h2 class="heading bottom-spaced text-center">Step 2: Deploying a demo app</h2>
            <div class="row row-centered">
                <div class="col-md-9 col-sm-12 col-xs-12 col-centered">
                    <p>You should have flocker-cli installed on your laptop and flocker-node installed on some servers: either VMs on your laptop, or real instances on cloud infrastructure.<p>
                    <p>Now you can try our simple tutorial: a Python web application and a Redis server.</p>
                    <pre>
$ git clone https://github.com/clusterhq/flocker-tutorial
$ cd flocker-tutorial                    
                    </pre>
                    <h2 class="heading bottom-spaced">fig.yml</h2>
                    <pre>
web:
  image: lmarsden/flask:v0.16
  links:
   - "redis:redis"
  ports:
   - "80:80"
redis:
  image: dockerfile/redis
  ports:
   - "6379:6379"
  volumes: ["/data"]
                </pre>
                <h2 class="heading bottom-spaced">deployment-node1.yml</h2>
                <pre>
"version": 1
"nodes":
  "172.16.255.250": ["web", "redis"]
  "172.16.255.251": []                
                </pre>
                <p>The fig.yml describes your distributed application. The deployment.yml describes which containers to deploy where.</p>
                <p>If you are using real servers on AWS, you'll need to change the IP addresses in the deployment file.</p>
                <pre>
$ flocker-deploy deployment-node1.yml fig.yml                
                </pre>
                <p>Now load http://172.16.255.250/ in a web browser or the external IP of one of your AWS nodes. It works!</p>
                </div>
            </div>
        </div>      
      </div>
          
      <div class="row">
           <hr class="hr-offset" />
           <div class="arrow-down arrow-hr center-block"></div>
        <div class="col-md-12 text-larger">
            <h2 class="heading bottom-spaced text-center heading-offset-top">Step 3: Migrating a container</h2>
            <div class="row row-centered">
                <div class="col-md-9 col-sm-12 col-xs-12 col-centered">
                <p>Now we are going to use a different depoyment config to show moving the Redis container with its data volume.</p>
                <h2 class="heading bottom-spaced">deployment-node2.yml</h2>
                <pre>
"version": 1
"nodes":
  "172.16.255.250": ["web"]
  "172.16.255.251": ["redis"]
                </pre>
                <pre>
$ flocker-deploy deployment-node2.yml app.yml                
                </pre>
                <br />
                <img src="../_static/assets/img/migration.png" class="img-responsive" alt="Flocker Deployment migration diagram" />
                <br />&nbsp;<br />
                <p>In just a few seconds, you'll see that the Redis container is migrated to the other host, network traffic is re-routed, and your application is still online on both IPs!</p>
                </div>
            </div>
        </div>
      </div>
    </div>

